<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Farahi Law</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
 <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script> 
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<link rel="stylesheet" href="styles.css">
</head>
<body>
<!-- Live chat comes from NGage -->
<!-- Langauge Translate comes from Google Cloud API ($$$) -->
<!-- Yelp Widget requires business account and/or Wordpress -->
<div class="container-fluid">
<div class="row">
	<img class="col-md" src="images/logo.png" />
	<div class="col-md">
	<div class="btn-group-vertical float-right">
		<a role="button" href="tel:3107744500" class="btn btn-outline-basic text-right">
			Call (310)-774-4500 Now <i class="fa fa-lg fa-phone" style="color:lightGreen"></i>
		</a>
			<a role="button" href="#" class="btn btn-outline-light text-right">
				<i class="fa fa-lg fa-twitter" style="color:#45b0e3"></i>
			</a>
			<a role="button" href="https://www.facebook.com/FarahiLawFirm" class="btn btn-outline-light text-right">
				<i class="fa fa-lg fa-facebook-square" style="color:#39599f"></i>
			</a>
			<a role="button" href="#" class="btn btn-outline-light text-right">
				<i class="fa fa-lg fa-google-plus-official" style="color:#e53d1d"></i>
			</a>
		</div>
		</div>
		</div>
	<div class="row">
	<div class="col-md"></div>
	<div class="col-md" ng-app="consultForm" ng-controller="formCtrl">
	<h3 class="text-uppercase">Request a Free Initial Consultation</h3>
	<span ng-bind="resp" ng-if="form.$submitted"></span>
		<form name="form" ng-submit="submit($event)" ng-hide="form.$submitted" novalidate>
		<div class="form-group">
		<input type="text" ng-model="name" name="name" class="form-control" required placeholder="Your Name*" />
		<input type="tel" ng-model="phone" name="phone" class="form-control" required placeholder="Phone Number*" />
		<textarea ng-model="msg" class="form-control" name="msg" placeholder="Your Message"></textarea>
		<input type="submit" ng-model="submit" value="Submit" ng-disabled="form.$submitted || form.name.$invalid || form.phone.$invalid" />
		</div>
		</form>
	</div>
		</div>
<div class="row">
<div class="col-md"></div>
<div class="col">
<h3>Videos</h3>
<div id="carousel" class="carousel slide" data-ride="carousel">
  <!-- The slideshow -->
  <div class="carousel-inner">
</div>
</div>
</div>
<div class="col-md">
<span id="vidTitle"></span>
<div>
<div class="btn-group">
<button type="button" class="btn btn-outline-primary" id="prevVid" disabled><i class="fa fa-lg fa fa-hand-o-left"></i></button>
<button type="button" class="btn btn-outline-success" id="nextVid" disabled><i class="fa fa-lg fa fa-hand-o-right"></i></button>
</div>
</div>
</div>
</div>
<div class="row">
<h3 class="col">
View Our Latest Articles
</h3>
</div>
<div class="row">
<div class="col-sm">
<i class="fa fa-2x fa-road"></i>
<a href="http://www.justinforjustice.com/most-dangerous-intersections-in-los-angeles/">
Most Dangerous Intersections in Los Angeles
</a>
</div>
<div class="col-sm">
<i class="material-icons" style="font-size:36px">directions_bike</i>
<a href="http://www.justinforjustice.com/torrance-bike-laws/">
Torrance Bike Laws
</a>
</div>
</div>
<div class="row">
<div class="col-sm">
<i class="fa fa-2x fa-plus"></i>
<a href="http://www.justinforjustice.com/injured-in-an-accident/">
Injured In An Accident?
</a>
</div>
<div class="col-sm">
<i class="fa fa-2x fa-truck"></i>
<a href="http://www.justinforjustice.com/fatal-truck-accident-statistics-for-california/">
Fatal Truck Accident Statistics for California
</a>
</div>
</div>
<div class="row">
<div class="col-sm">
<i class="fa fa-2x fa-car"></i>
<a href="http://www.justinforjustice.com/when-a-car-seat-malfunctions-during-a-virginia-car-accident/">
Be Prepared For An Accident
</a>
</div>
<div class="col-sm">
<i class="fa fa-2x fa-stethoscope"></i>
<a href="http://www.justinforjustice.com/acute-treatment-for-tbi-after-a-manassas-accident/">
Acute Treatment for TBI after an Accident
</a>
</div>
</div>
<div class="row">
<div class="col-sm">
<i class="fa fa-2x fa-address-card-o"></i>
<a href="http://www.justinforjustice.com/5-misconceptions-about-a-virginia-personal-injury-claim/">
5 Misconceptions about a California Personal Injury Claim
</a>
</div>
<div class="col-sm">
<i class="fa fa-2x fa-hospital-o"></i>
<a href="http://www.justinforjustice.com/the-rigors-of-subacute-treatment-after-a-virginia-accident/">
The Rigors of Subacute Treatment after a California Accident
</a>
</div>
</div>
</div>
<script src="videos.js"></script>
<script>
var players = [];
var readyPlayers = 0;
var recycleWait;

 var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      

var app = angular.module('consultForm', []);
app.controller('formCtrl', function($scope,$http,$q) {
	$scope.resp = "Sending...";
   $scope.submit = function(e) {
   $http.post("http://localhost:8080",angular.element(e.target).serialize()).then(function(response)
   {$scope.resp = response.data},function(error){$scope.resp = "Sorry, the messaging service is not available. Please try again later.";}); 
   	   };
   	    /* Php+jQuery $q(function(resolve,reject) {jQuery.post("http://localhost:8080",angular.element(e.target).serialize(), 	function(response) {
   		resolve(response); }); }).then(function(r){$scope.resp = r;});*/
});

$("#carousel").on("slid.bs.carousel",function(e) {
$("#vidTitle").text(videos[e.to].desc);
});
$("#prevVid").click(function(){$("#carousel").carousel('prev');});
$("#nextVid").click(function(){$("#carousel").carousel('next');});

function onYouTubeIframeAPIReady() {

videos.forEach(function(x,i) {
var item = $('<div class="carousel-item">');
if(i == 0) item.addClass("active");
item.append('<div id=video'+i+'>');
$(".carousel-inner").append(item);

       players[i] = new YT.Player('video'+i, {
       //480x270
          width: '100%',
          height: '270',
          videoId: x.vidId,
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          },

        playerVars:{'autoplay':0,'rel':0,'playsinline':1,'showinfo':0,'modestbranding':1}
        });
        
        });
        
      
      }

      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
      if($("#vidTitle").text()=="") $("#vidTitle").text(videos[0].desc);
      readyPlayers++;
      if(readyPlayers == videos.length) {
      	$("#prevVid").attr("disabled",false);
      	$("#nextVid").attr("disabled",false);
      }
      }

      // 5. The API calls this function when the player's state changes.
      //    The function indicates that when playing a video (state=1),
      //    the player should play for six seconds and then stop.
      var done = false;
      function onPlayerStateChange(event) {
      var state = event.target.getPlayerState();
       	if(state==1) {
       		$("#carousel").carousel("pause");
       		clearTimeout(recycleWait);
       	}
       	else if(state==2) {
       		recycleWait = setTimeout(function(){$("#carousel").carousel('cycle');},60000);
       	}
      }
   
</script>
</body>
</html>
